<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fluid Velocity Calculator</title>
    
    <link rel="stylesheet" href="../../style.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>

        <h1 class="text-3xl font-extrabold text-center text-gray-800 mb-8">Fluid Velocity Calculator</h1>

        <h2 class="text-2xl font-semibold text-gray-700 mb-4 mt-8">Process Flow Diagram (PFD)</h2>
          

        <h1></h1>
        <a href="../" class="button">Engineering Tools</a>
        <a href="../../" class="button">Home</a>

    </header>
        

    <main class="container">
        
        <section class="drawing-controls">
            <div>
                <button id="drawPipeModeBtn" class="button">Draw Pipe</button>
                <button id="drawSymbolModeBtn" class="button">Draw Symbols</button>
                <button id="deleteSymbolModeBtn" class="button">Delete Symbol</button>
                <button id="clearCanvasBtn" class="button">Clear All</button>
            </div>

            <div id="symbolControls" class="symbol-controls">
                <label>
                    <input type="radio" name="symbolShape" value="line" checked> Line
                </label>
                <label>
                    <input type="radio" name="symbolShape" value="circle"> Circle
                </label>
                <label>
                    <input type="radio" name="symbolShape" value="triangle"> Triangle
                </label>
                <label>
                    <input type="radio" name="symbolShape" value="square"> Square
                </label>
                <label>
                    <input type="radio" name="symbolShape" value="rectangle"> Rectangle
                </label>
            </div>
        </section>

        <canvas id="drawingCanvas" width="800" height="400"></canvas>

        <h2 class="text-2xl font-semibold text-gray-700 mb-4 mt-8">Pipe Sections Data</h2>
        <p class="text-sm text-gray-600 mb-4">Drag and drop table rows to reorder pipes.</p>

        <div class="flex flex-wrap justify-between items-center gap-4 mb-4">
            <button id="calculateAllBtn" class= "button">
                Calculate All Velocities
            </button>
            <button id="saveBtn" class="button">
                Save Diagram
            </button>
            <button id="loadBtn" class="button">
                Load Diagram
            </button>
            <input type="file" id="fileInput" accept=".json"> <!-- Hidden file input -->
        </div>

        <div class="overflow-x-auto">
            <table class="calculation-table">
                <thead>
                    <tr>
                        <th>Section</th>
                        <th>NPS</th>
                        <th>Schedule</th>
                        <th>Volume Flow</th>
                        <th>Description</th>
                        <th>Velocity</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="pipeSectionsTableBody">
                    <!-- Dynamic rows will be added here based on drawing -->
                </tbody>
            </table>
        </div>

        <!-- Global Error Message Display -->
        <div id="globalErrorMessage" class="error-message hidden mt-4"></div>
    </main>

    <footer>
        <p>&copy; 2025 S Waelchli. All rights reserved.</p>
    </footer>
    
    <script src="pipe-calc.js"></script>


</body>
</html>
